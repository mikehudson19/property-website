<div class="container">
  <div class="mt-4">
    <h1>All Adverts</h1>
    
    <app-search></app-search>

    <div class="d-flex flex-column align-items-end">
      <div class="btn-group">
        <button
          type="button"
          class="btn btn-info dropdown-toggle"
          data-toggle="dropdown"
          aria-haspopup="true"
          aria-expanded="false"
        >
          Order-by : {{ orderBy }}
        </button>
        <div class="dropdown-menu">
          <a
            class="dropdown-item"
            (click)="orderChoice('Descending')"
            [ngClass]="{ active: isAscending === false }"
            >Price: High-to-Low</a
          >
          <a
            class="dropdown-item"
            (click)="orderChoice('Ascending')"
            [ngClass]="{ active: isAscending === true }"
            >Price: Low-to-High</a
          >
        </div>
      </div>
    </div>

    <div class="mb-3" *ngIf="adverts && adverts.length > 0">
      <a
        class="card my-4 box-link"
        *ngFor="let advert of adverts"
        [routerLink]="['/advertdetail', advert.id]"
      >
        <div class="row no-gutters">
          <div class="col-md-4">
            <div class="bd-placeholder-img">
              <img src="../../../assets/headline-image.jpg" alt="" />
            </div>
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h1 class="card-title h4">
                {{ advert.price | currency: "ZAR":"symbol-narrow" }}
              </h1>
              <a
                class="card-text h5"
                [routerLink]="['/advertdetail', advert.id]"
                >{{ advert.title }}</a
              >
              <p class="card-text">
                {{ advert.details | truncateText: 275 }}
              </p>
              <p>{{ advert.province }}, {{ advert.city}}</p>
            </div>
          </div>
        </div>
      </a>
    </div>
  </div>
</div>
